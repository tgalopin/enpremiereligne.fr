{% extends 'page_base.html.twig' %}

{% block title 'Proposer mon aide | En première ligne' %}

{% block content %}
    <div class="process-box">
        <div class="bg-light p-3 p-lg-4">
            <h3 class="text-center font-weight-bold mb-4">
                Proposer mon aide
            </h3>

            <div class="process-details mb-4 pb-3">
                <p>
                    Dans les prochaines semaines, de nombreuses personnes vont risquer leur santé, donner
                    leur énergie 15h par jour pour sauver des vies et s'assurer que les
                    fonctions vitales de notre pays sont encore assurées.
                    <strong>Elles sont notre première ligne contre le virus.</strong>
                </p>

                <p>
                    Permettons-leur de ne pas se préoccuper de qui gardera leurs enfants ou de s'il y
                    aura suffisamment à manger chez elles quand elles rentreront.
                </p>

                <p>
                    <strong>Vous aussi, participez à la mobilisation contre l'épidémie.</strong>
                    Remplissez le formulaire ci-dessous pour vous enregistrer en tant que personne
                    capable d'aider. Si quelqu'un proche de chez vous a besoin d'aide, nous vous
                    mettrons en relation par e-mail pour que vous puissiez les aider au mieux.
                </p>

                <p>
                    Ne soyez volontaire que si vous êtes jeune (moins de 60 ans) et en bonne santé :
                    il ne sert à rien que vous preniez des risques inutiles, quelqu'un d'autre
                    pourra aider à votre place. Vous pouvez vérifier si vous faites partie des publics à risque
                    <a href="https://solidarites-sante.gouv.fr/actualites/actualites-du-ministere/article/coronavirus-qui-sont-les-personnes-fragiles">sur le site du ministère de la Santé</a>.
                </p>

                <a href="{{ path('content_how') }}">
                    En savoir plus sur le fonctionnement de la plateforme
                </a>
            </div>

            {{ form_start(form) }}

            {{ form_errors(form) }}

            <div class="process-block bg-white p-3 p-lg-4 mb-4">
                <div class="row">
                    <div class="col-12 col-lg-6 mb-3">
                        {{ form_row(form.firstName, {'label': 'Votre prénom (requis)'}) }}
                    </div>
                    <div class="col-12 col-lg-6 mb-3">
                        {{ form_row(form.lastName, {'label': 'Votre nom (requis)'}) }}
                    </div>
                </div>

                <div class="row">
                    <div class="col-12 col-lg-6 mb-3">
                        {{ form_row(form.age, {'label': 'Votre âge (requis)'}) }}
                    </div>
                    <div class="col-12 col-lg-6 mb-3">
                        {{ form_row(form.zipCode, {
                            'label': 'Votre code postal (français uniquement, requis)',
                            'help': 'Utilisé pour trouver des personnes proches de vous. Nous ne travaillons que sur le territoire français pour le moment.'
                        }) }}
                    </div>
                </div>

                {{ form_row(form.email, {'label': 'Votre adresse e-mail (requis)', 'help': 'Utilisé pour vous mettre en relation'}) }}
            </div>

            <div class="process-block bg-white p-3 p-lg-4 mb-4">
                {{ form_row(form.canBuyGroceries, {
                    'label': 'Je peux acheter et livrer des courses pour les travailleurs de première ligne (soignant·es, services d\'urgence, approvisionnement en énergie, nourriture, médicaments, matériel, ...)',
                    'label_attr': { 'class': 'checkbox-custom' },
                    'help': 'Vous pourrez être mis en relation avec des personnes ayant besoin d\'être livrées en courses. Cette mise en relation n\'est pas un engagement mais le début d\'une discussion d\'entraide.'
                }) }}
            </div>

            <div class="process-block bg-white p-3 p-lg-4 mb-4">
                {{ form_row(form.acceptVulnerable, {
                    'label': 'Je peux acheter et livrer des courses pour les personnes faisant partie des populations à risque (de par l\'âge, les antécédents médicaux ou les difficultés à se déplacer))',
                    'label_attr': { 'class': 'checkbox-custom' },
                    'help': 'Vous pourrez être mis en relation avec des personnes ayant besoin d\'être livrées en courses. Cette mise en relation n\'est pas un engagement mais le début d\'une discussion d\'entraide.'
                }) }}
            </div>

            <div class="process-block bg-white p-3 p-lg-4 mb-4">
                <div class="mb-3">
                    {{ form_row(form.canBabysit, {
                        'label': 'Je peux garder un enfant à certaines occasions',
                        'label_attr': { 'class': 'checkbox-custom' },
                        'help': 'Vous pourrez être mis en relation avec des parents ayant besoin de garder leur enfant. Cette mise en relation n\'est pas un engagement mais le début d\'une discussion d\'entraide.'
                    }) }}
                </div>

                <div class="p-4" id="babysit-fields">
                    <div class="mb-3">
                        {{ form_row(form.haveChildren, {
                            'label': 'Avez-vous ou avez-vous eu des enfants vous-même ?',
                            'label_attr': { 'class': 'checkbox-custom' },
                            'help': 'Il est plus rassurant pour des parents que vous soyez déjà parents vous-mêmes.'
                        }) }}
                    </div>

                    <div class="mb-3">
                        {{ form_row(form.babysitMaxChildren, {
                            'label': 'Combien d\'enfants au maximum pouvez-vous garder à la fois ?'
                        }) }}
                    </div>

                    <div class="mb-3">
                        {{ form_row(form.babysitAgeRanges, {
                            'label': 'Quelle(s) tranche(s) d\'âge d\'enfants vous sentez-vous à l\'aise de garder ?'
                        }) }}
                    </div>
                </div>
            </div>

            <div class="process-block bg-white p-3 p-lg-4 mb-5">
                {{ form_row(form.confirm, {
                    'label': 'J\'ai lu et j\'accepte la Politique de confidentialité et les Conditions d\'utilisation d\'enpremiereligne.fr',
                    'label_attr': { 'class': 'checkbox-custom' },
                    'help': 'Il est notamment très important que vous soyez vigilants à bien suivre les recommandations sanitaires à tout moment.'
                }) }}
            </div>

            <div class="text-center mb-5">
                <button type="submit" class="btn btn-lg btn-primary">
                    Envoyer ma proposition
                </button>

                <div class="mt-3">
                    <strong class="text-muted">
                        Vous pourrez revenir à tout moment sur votre proposition.
                    </strong>
                </div>
            </div>

            {{ form_end(form) }}

            <div class="legalities pt-5">
                Vous disposez d'un droit d'accès, de rectification, d'effacement et de portabilité
                de vos données ainsi que d'un droit d'opposition et d'un droit de limitation du
                traitement des données vous concernant. Vous pouvez exercer vos droits en nous
                contactant à l'adresse suivante :
                <a href="mailto:titouan@enpremiereligne.fr">titouan@enpremiereligne.fr</a>.
            </div>
        </div>
    </div>
{% endblock %}

{% block javascripts %}
    {{ encore_entry_script_tags('helper') }}
{% endblock %}
